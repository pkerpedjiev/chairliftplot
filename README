1. Export area from OSM.
2. Compile osmfilter

cd scripts/
cc osmfilter.c -lz -o osmfilter

3. Filter out aerialways

name=austria-latest; ./scripts/osmfilter --keep="aerialway=" raw_osm/${name}.osm > filtered_osm/${name}.osm
name=switzerland-latest; ./scripts/osmfilter --keep="piste:type=downhill or aerialway="  raw_osm/${name}.osm > filtered_osm/${name}.osm
name=whistler; ./scripts/osmfilter --keep="piste:type=downhill or aerialway=" --drop="piste:grooming=backcountry"  raw_osm/${name}.osm > filtered_osm/${name}.osm

4. Add elevation:

python scripts/augment_nodes.py filtered_osm/stuhleck.osm > with_elevation/stuhleck.osm

* Cluster by distance:

name=austria-latest; python scripts/concave_hull.py filtered_osm/${name}.osm -d 2 > jsons/${name}.json

* Convert to topojson

name=whistler; topojson -q 100000 -o jsons/${name}.topo boundaries=jsons/${name}.json; lt jsons/

Notes:

./scripts/finish.sh europe-latest
./scripts/finish.sh north-america-latest

## Combine Two Different Jsons ##

python scripts/combine_geojsons.py jsons/europe-latest.json jsons/north-america-latest.json > jsons/europe-north-america.json
